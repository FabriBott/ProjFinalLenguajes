<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3 mb-0">Productos Disponibles</h1>
    <%= link_to "Nuevo Producto", new_producto_path, class: "btn btn-primary" %>
  </div>

  <div class="table-responsive">
    <table class="table table-striped">
      <thead class="table-dark">
        <tr>
          <th>Nombre</th>
          <th>Precio</th>
          <th>Stock</th>
          <th class="text-center">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <% @productos.each do |producto| %>
          <tr>
            <td><%= producto.nombre %></td>
            <td>₡<%= number_to_currency(producto.precio, unit: "") %></td>
            <td><%= producto.stock || 0 %></td>
            <td class="text-center">
              <div class="btn-group" role="group" aria-label="Acciones del producto">
                <%= link_to producto, class: "btn btn-sm btn-outline-info", title: "Ver detalles" do %>
                  <i class="fas fa-eye"></i>
                <% end %>
                <%= link_to edit_producto_path(producto), class: "btn btn-sm btn-outline-warning", title: "Editar producto" do %>
                  <i class="fas fa-edit"></i>
                <% end %>
                <%= button_to producto, method: :delete, 
                             data: { confirm: "¿Estás seguro de eliminar '#{producto.nombre}'?" }, 
                             class: "btn btn-sm btn-outline-danger", 
                             title: "Eliminar producto",
                             form: { style: "display: inline;" } do %>
                  <i class="fas fa-trash"></i>
                <% end %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
